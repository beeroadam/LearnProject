# Spring MVC CheatSheet

Spring MVC is a part of Spring Framework and its full form is Spring Model-View-Controller that designs pattern for developing web applications efficiently.

## MVC Components

**Model**: Represents your data structures. Typically, your model classes will have no dependencies on the specifics of your view or controller classes.

**View**: Renders the contents of a model. It gets its instructions on what to display from the controller.

**Controller**: A controller is the link between a user and the system. It processes all business logic and incoming requests, manipulates data using the Model and selects views to render that display UI.

## Spring MVC Flow

1. User sends a request which hits the `DispatcherServlet`.
2. `DispatcherServlet` finds the appropriate `Controller`.
3. `Controller` processes the request, populates the `Model` and returns the `View` name to the `DispatcherServlet`.
4. `DispatcherServlet` resolves the `View` with the help of `ViewResolver`.
5. `View` is rendered and the response is sent to the client.

## Basic annotations

- `@Controller`: Stereotype annotation to mark Controller classes.
- `@RequestMapping`: For mapping web requests onto specific handler classes and/or handler methods.
- `@RequestParam`: Used to bind request parameters into method parameter in controller.
- `@ModelAttribute`: Bind a method parameter or return value to a named model attribute.
- `@PathVariable`: Used to bind the request URI template variable to a method parameter.

## Creating a basic Spring MVC controller

```java
@Controller
public class HelloWorldController {

  @RequestMapping("/hello")
  public String sayHi(Model model) {
    model.addAttribute("message", "Hello Spring MVC!");
    return "helloWorld";
  }
}
```

This adds an attribute to the model and returns the view name that needs to be rendered.

## Creating View using ViewResolver

A ViewResolver helps DispatcherServlet to identify which view should be rendered in response based on view name.

```java
@Configuration
@EnableWebMvc
@ComponentScan("com.example.app")
public class AppConfig {
  
  @Bean
  public ViewResolver viewResolver() {
    InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();
    viewResolver.setPrefix("/WEB-INF/views/");
    viewResolver.setSuffix(".jsp");
    return viewResolver;
  }
}
```

## Exception Handling in Spring MVC

Create a Controller Advice to handle exceptions globally.

```java
@ControllerAdvice
public class GlobalExceptionHandler {

  @ExceptionHandler(Exception.class)
  public ModelAndView handleException(Exception ex) {
    ModelAndView model = new ModelAndView("error");
    model.addObject("exception", ex.getMessage());
    return model;
  }
}
```

There is a lot more to Spring MVC, like using Form tags, processing Forms, file uploads, doing session management, serving static resources and so forth. It is advisable to follow the official documentation and build hands-on experience.
